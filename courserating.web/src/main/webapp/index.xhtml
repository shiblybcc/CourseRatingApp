<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
</h:head>
<h:body>
	<ui:composition template="/WEB-INF/template.xhtml">
		<ui:define name="content">
			<div class="table-responsive">
			  <h:panelGroup id="table_container" layout="block">
				<table  class="table table-striped">
					<thead>
						<tr>
						    <th>Course Name</th>
							<th style="text-align:center;">Rating</th>
							<th style="text-align:center;">Rating Freq</th>
							<th style="text-align:center;">#Comment</th>
							<th style="text-align:center;">Action</th>
						</tr>
					</thead>
					<tbody>
						<ui:repeat var="lecture" value="#{mainBean.getLectures()}" varStatus="status">
							<tr>
							    <td>
								  <h:form>
										<h:link outcome="lecture" value="#{lecture.getLectureName()}">
										   <f:param name="lectureName" value="#{lecture.getLectureName()}"/> 
										</h:link>
									</h:form>
									<div class="content-bottom"></div>
								</td>
								<td style="text-align:center;">#{lecture.getStatistics().getLectureRating().name()}</td>
								<td style="text-align:center;">#{lecture.getStatistics().getRatingCount()}</td>
								<td style="text-align:center;">#{lecture.getCommentCount()}</td>
								<td style="text-align:center;">
								  <h:form>
								    <p:commandLink value="Rate" action="#{ratingBean.showDialog(lecture.getLectureName())}"/>
								  </h:form>
								</td>
							</tr>
						</ui:repeat>
					</tbody>
				</table>
				</h:panelGroup>
			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>